{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { Icon, Button, Text, View, Pressable } from \"native-base\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar AppScanner = function AppScanner(_ref) {\n  var handleScanner = _ref.handleScanner;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasPermission = _useState2[0],\n      setHasPermission = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      scanned = _useState4[0],\n      setScanned = _useState4[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$BarCodeScanner, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(BarCodeScanner.requestPermissionsAsync());\n\n            case 2:\n              _await$BarCodeScanner = _context.sent;\n              status = _await$BarCodeScanner.status;\n              setHasPermission(status === \"granted\");\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var handleBarCodeScanned = function handleBarCodeScanned(_ref2) {\n    var type = _ref2.type,\n        data = _ref2.data;\n    setScanned(true);\n    handleScanner(data);\n  };\n\n  if (hasPermission === null) {\n    return _jsx(Text, {\n      children: \"Requesting for camera permission\"\n    });\n  }\n\n  if (hasPermission === false) {\n    return _jsx(Text, {\n      children: \"No access to camera\"\n    });\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(BarCodeScanner, {\n      onBarCodeScanned: scanned ? undefined : handleBarCodeScanned,\n      style: StyleSheet.absoluteFillObject\n    }), scanned && _jsx(Button, {\n      title: \"Tap to Scan Again\",\n      onPress: function onPress() {\n        return setScanned(false);\n      }\n    }), _jsx(Pressable, {\n      onPress: function onPress() {\n        return handleScanner(null);\n      },\n      children: function children(_ref3) {\n        var isHovered = _ref3.isHovered,\n            isPressed = _ref3.isPressed;\n        return _jsx(Icon, {\n          mt: 1,\n          mb: 5,\n          as: _jsx(MaterialIcons, {\n            name: \"cancel\"\n          }),\n          size: \"6xl\",\n          color: isPressed ? \"danger.700\" : isHovered ? \"danger.700\" : \"danger.500\",\n          style: {\n            marginTop: scanned ? \"70%\" : \"120%\",\n            alignSelf: \"center\",\n            transform: [{\n              scale: isPressed ? 0.96 : 1\n            }]\n          }\n        });\n      }\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  }\n});\nexport default AppScanner;","map":{"version":3,"names":["React","useState","useEffect","Icon","Button","Text","View","Pressable","BarCodeScanner","MaterialIcons","AppScanner","handleScanner","hasPermission","setHasPermission","scanned","setScanned","requestPermissionsAsync","status","handleBarCodeScanned","type","data","styles","container","undefined","StyleSheet","absoluteFillObject","isHovered","isPressed","marginTop","alignSelf","transform","scale","create","flex","flexDirection","justifyContent"],"sources":["D:/Dev/after-sale-mobile/src/components/AppScanner.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Icon, Button, Text, View, Pressable } from \"native-base\";\r\nimport { StyleSheet } from \"react-native\";\r\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\n\r\nconst AppScanner: React.FC<any> = ({ handleScanner }) => {\r\n  const [hasPermission, setHasPermission] = useState<boolean>(false);\r\n  const [scanned, setScanned] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n      setHasPermission(status === \"granted\");\r\n    })();\r\n  }, []);\r\n\r\n  const handleBarCodeScanned = ({ type, data }: any) => {\r\n    setScanned(true);\r\n    handleScanner(data);\r\n    //alert(`Bar code with type ${type} and data ${data} has been scanned!`);\r\n  };\r\n\r\n  if (hasPermission === null) {\r\n    return <Text>Requesting for camera permission</Text>;\r\n  }\r\n  if (hasPermission === false) {\r\n    return <Text>No access to camera</Text>;\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <BarCodeScanner\r\n        onBarCodeScanned={scanned ? undefined : handleBarCodeScanned}\r\n        style={StyleSheet.absoluteFillObject}\r\n      />\r\n      {scanned && (\r\n        <Button title={\"Tap to Scan Again\"} onPress={() => setScanned(false)} />\r\n      )}\r\n      <Pressable onPress={() => handleScanner(null)}>\r\n        {({ isHovered, isPressed }) => {\r\n          return (\r\n            <Icon\r\n              mt={1}\r\n              mb={5}\r\n              as={<MaterialIcons name=\"cancel\" />}\r\n              size=\"6xl\"\r\n              color={\r\n                isPressed\r\n                  ? \"danger.700\"\r\n                  : isHovered\r\n                  ? \"danger.700\"\r\n                  : \"danger.500\"\r\n              }\r\n              style={{\r\n                marginTop: scanned ? \"70%\" : \"120%\",\r\n                alignSelf: \"center\",\r\n                transform: [\r\n                  {\r\n                    scale: isPressed ? 0.96 : 1,\r\n                  },\r\n                ],\r\n              }}\r\n            />\r\n          );\r\n        }}\r\n      </Pressable>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\n\r\nexport default AppScanner;\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,IAAvB,EAA6BC,IAA7B,EAAmCC,SAAnC,QAAoD,aAApD;;AAEA,SAASC,cAAT,QAA+B,sBAA/B;AACA,SAASC,aAAT,QAA8B,oBAA9B;;;;AAEA,IAAMC,UAAyB,GAAG,SAA5BA,UAA4B,OAAuB;EAAA,IAApBC,aAAoB,QAApBA,aAAoB;;EACvD,gBAA0CV,QAAQ,CAAU,KAAV,CAAlD;EAAA;EAAA,IAAOW,aAAP;EAAA,IAAsBC,gBAAtB;;EACA,iBAA8BZ,QAAQ,CAAU,KAAV,CAAtC;EAAA;EAAA,IAAOa,OAAP;EAAA,IAAgBC,UAAhB;;EAEAb,SAAS,CAAC,YAAM;IACd,CAAC;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,iCAC0BM,cAAc,CAACQ,uBAAf,EAD1B;;YAAA;cAAA;cACSC,MADT,yBACSA,MADT;cAECJ,gBAAgB,CAACI,MAAM,KAAK,SAAZ,CAAhB;;YAFD;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAD;EAID,CALQ,EAKN,EALM,CAAT;;EAOA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,QAAyB;IAAA,IAAtBC,IAAsB,SAAtBA,IAAsB;IAAA,IAAhBC,IAAgB,SAAhBA,IAAgB;IACpDL,UAAU,CAAC,IAAD,CAAV;IACAJ,aAAa,CAACS,IAAD,CAAb;EAED,CAJD;;EAMA,IAAIR,aAAa,KAAK,IAAtB,EAA4B;IAC1B,OAAO,KAAC,IAAD;MAAA;IAAA,EAAP;EACD;;EACD,IAAIA,aAAa,KAAK,KAAtB,EAA6B;IAC3B,OAAO,KAAC,IAAD;MAAA;IAAA,EAAP;EACD;;EAED,OACE,MAAC,IAAD;IAAM,KAAK,EAAES,MAAM,CAACC,SAApB;IAAA,WACE,KAAC,cAAD;MACE,gBAAgB,EAAER,OAAO,GAAGS,SAAH,GAAeL,oBAD1C;MAEE,KAAK,EAAEM,UAAU,CAACC;IAFpB,EADF,EAKGX,OAAO,IACN,KAAC,MAAD;MAAQ,KAAK,EAAE,mBAAf;MAAoC,OAAO,EAAE;QAAA,OAAMC,UAAU,CAAC,KAAD,CAAhB;MAAA;IAA7C,EANJ,EAQE,KAAC,SAAD;MAAW,OAAO,EAAE;QAAA,OAAMJ,aAAa,CAAC,IAAD,CAAnB;MAAA,CAApB;MAAA,UACG,yBAA8B;QAAA,IAA3Be,SAA2B,SAA3BA,SAA2B;QAAA,IAAhBC,SAAgB,SAAhBA,SAAgB;QAC7B,OACE,KAAC,IAAD;UACE,EAAE,EAAE,CADN;UAEE,EAAE,EAAE,CAFN;UAGE,EAAE,EAAE,KAAC,aAAD;YAAe,IAAI,EAAC;UAApB,EAHN;UAIE,IAAI,EAAC,KAJP;UAKE,KAAK,EACHA,SAAS,GACL,YADK,GAELD,SAAS,GACT,YADS,GAET,YAVR;UAYE,KAAK,EAAE;YACLE,SAAS,EAAEd,OAAO,GAAG,KAAH,GAAW,MADxB;YAELe,SAAS,EAAE,QAFN;YAGLC,SAAS,EAAE,CACT;cACEC,KAAK,EAAEJ,SAAS,GAAG,IAAH,GAAU;YAD5B,CADS;UAHN;QAZT,EADF;MAwBD;IA1BH,EARF;EAAA,EADF;AAuCD,CA/DD;;AAiEA,IAAMN,MAAM,GAAGG,UAAU,CAACQ,MAAX,CAAkB;EAC/BV,SAAS,EAAE;IACTW,IAAI,EAAE,CADG;IAETC,aAAa,EAAE,QAFN;IAGTC,cAAc,EAAE;EAHP;AADoB,CAAlB,CAAf;AAQA,eAAezB,UAAf"},"metadata":{},"sourceType":"module"}